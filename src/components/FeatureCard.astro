---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
interface Props {
  title: string;
  date: string;
  url: string;
  tags: string[];
  readTime: number;
  cover?: { src: ImageMetadata; alt: string };
}
const { title, date, url, tags, readTime, cover } = Astro.props;
---

<a
  href={`/${url}`}
  class="ring-accent hover:bg-accent/13 group flex gap-4 rounded-lg p-6 ring-1 transition-all duration-150 ease-in-out"
>
  {cover && (
    <Image
      src={cover.src}
      alt={cover.alt}
      class="hidden sm:block h-32 w-48 shrink-0 rounded-lg object-cover"
      widths={[192, 384]}
      sizes="192px"
    />
  )}
  <div class="flex flex-col gap-3">
    <div class="flex items-center justify-between gap-3">
      <h3 class="text-2xl font-semibold">{title}</h3>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:text-accent shrink-0 transition-all duration-150 ease-in-out group-hover:translate-x-1">
        <path d="M5 12h14" />
        <path d="m12 5 7 7-7 7" />
      </svg>
    </div>
    <div class="flex flex-wrap items-center gap-3 text-sm opacity-70">
      <div class="flex items-center gap-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M8 2v4" />
          <path d="M16 2v4" />
          <rect width="18" height="18" x="3" y="4" rx="2" />
          <path d="M3 10h18" />
        </svg>
        <span>{date}</span>
      </div>
      <div class="flex items-center gap-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10" />
          <polyline points="12 6 12 12 16 14" />
        </svg>
        <span>{readTime} min read</span>
      </div>
    </div>
    <div class="flex flex-wrap gap-2">
      {
        tags.map((tag: string) => (
          <span class="bg-foreground/13 rounded-lg px-2 py-0.5 text-sm">
            {tag}
          </span>
        ))
      }
    </div>
  </div>
</a>
